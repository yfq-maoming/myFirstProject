"use strict";(self["webpackChunktest_app"]=self["webpackChunktest_app"]||[]).push([[844],{3844:function(t,s,a){a.r(s),a.d(s,{default:function(){return f}});var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("TypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[t.searchList.categoryName?a("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchList.categoryName)),a("i",{on:{click:t.cansle}},[t._v("×")])]):t._e(),t.searchList.keyword?a("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchList.keyword)),a("i",{on:{click:t.removekeyword}},[t._v("×")])]):t._e(),t.searchList.trademark?a("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchList.trademark.split(":")[1])),a("i",{on:{click:t.removeTrademark}},[t._v("×")])]):t._e(),t._l(t.searchList.props,(function(s,e){return a("li",{key:e,staticClass:"with-x"},[t._v(" "+t._s(s.split(":")[1])),a("i",{on:{click:function(s){return t.removeAttr(e)}}},[t._v("×")])])}))],2)]),a("SearchSelector",{on:{trademakeInfo:t.trademakeInfo,attrInfo:t.attrInfo}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:{active:t.isOne},on:{click:function(s){return t.changeOrder("1")}}},[a("a",[t._v("综合"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isOne,expression:"isOne"}],staticClass:"iconfont",class:{"icon-xiangxiajiantoucuxiao":t.isDesc,"icon-xiangshangjiantoucuxiao":t.isAsc}})])]),a("li",{class:{active:t.isTwo},on:{click:function(s){return t.changeOrder("2")}}},[a("a",[t._v("价格"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isTwo,expression:"isTwo"}],staticClass:"iconfont",class:{"icon-xiangxiajiantoucuxiao":t.isDesc,"icon-xiangshangjiantoucuxiao":t.isAsc}})])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(s){return a("li",{key:s.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("router-link",{attrs:{to:"/detail/"+s.id}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.defaultImg,expression:"goods.defaultImg"}]})])],1),a("div",{staticClass:"price"},[a("strong",[a("em",[t._v("¥ ")]),a("i",[t._v(t._s(s.price)+".00")])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[t._v(t._s(s.title))])]),t._m(1,!0),t._m(2,!0)])])})),0)]),a("Pagination",{attrs:{pageNo:t.searchList.pageNo,pageSize:t.searchList.pageSize,total:t.total,continues:5},on:{getPageNo:t.getPageNo}})],1)],1)])],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v("2000")]),t._v("人评价")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],r=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(s){return a("li",{key:s.tmId,on:{click:function(a){return t.trademark(s)}}},[t._v(t._s(s.tmName))])})),0)]),t._m(0)]),t._l(t.attrsList,(function(s){return a("div",{key:s.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(s.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(s.attrValueList,(function(e,i){return a("li",{key:i,on:{click:function(a){return t.attrInfo(s,e)}}},[a("a",[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)},c=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),a("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],o=a(629),n={name:"SearchSelector",computed:{...(0,o.Se)(["trademarkList","attrsList"])},methods:{trademark(t){this.$emit("trademakeInfo",t)},attrInfo(t,s){this.$emit("attrInfo",t,s)}}},l=n,h=a(1001),d=(0,h.Z)(l,r,c,!1,null,"1990d46f",null),u=d.exports,v={name:"Search",components:{SearchSelector:u},data(){return{searchList:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademark:""}}},computed:{...(0,o.Se)(["goodsList"]),...(0,o.rn)({total:t=>t.search.searchList.total}),isOne(){return-1!=this.searchList.order.indexOf("1")},isTwo(){return-1!=this.searchList.order.indexOf("2")},isAsc(){return-1!=this.searchList.order.indexOf("asc")},isDesc(){return-1!=this.searchList.order.indexOf("desc")}},watch:{$route(){this.searchList.category1Id=void 0,this.searchList.category2Id=void 0,this.searchList.category3Id=void 0,Object.assign(this.searchList,this.$route.query,this.$route.params),this.getData()}},beforeMount(){Object.assign(this.searchList,this.$route.query,this.$route.params)},mounted(){this.getData()},methods:{getData(){this.$store.dispatch("getSearchInfo",this.searchList)},cansle(){this.searchList.category1Id=void 0,this.searchList.category2Id=void 0,this.searchList.category3Id=void 0,this.searchList.categoryName=void 0,this.getData(),this.$route.params&&this.$router.push({name:"search",params:this.$route.params})},removekeyword(){this.searchList.keyword=void 0,this.getData(),this.$bus.$emit("clear"),this.$route.query&&this.$router.push({name:"search",query:this.$route.query})},removeTrademark(){this.searchList.trademark=void 0,this.getData()},trademakeInfo(t){this.searchList.trademark=`${t.tmId}:${t.tmName}`,this.getData()},attrInfo(t,s){let a=`${t.attrId}:${s}:${t.attrName}`;-1==this.searchList.props.indexOf(a)&&this.searchList.props.push(a),this.getData()},removeAttr(t){this.searchList.props.splice(t,1),this.getData()},changeOrder(t){let s=this.searchList.order.split(":")[0],a=this.searchList.order.split(":")[1],e="";e=s==t?`${s}:${"desc"==a?"asc":"desc"}`:`${t}:desc`,this.searchList.order=e,this.getData()},getPageNo(t){this.searchList.pageNo=t,this.getData()}}},m=v,g=(0,h.Z)(m,e,i,!1,null,"6b629ff8",null),f=g.exports}}]);